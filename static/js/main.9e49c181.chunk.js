(this["webpackJsonpreact-typescript-starter-pack"]=this["webpackJsonpreact-typescript-starter-pack"]||[]).push([[0],{156:function(e,t,n){},164:function(e,t,n){},166:function(e,t,n){},172:function(e,t,n){},173:function(e,t,n){},174:function(e,t,n){},175:function(e,t,n){},176:function(e,t,n){},177:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n(36),c=n.n(r),i=(n(156),n(50)),o=n(84),s=Object(o.b)({name:"calendar",initialState:{dateFilter:null,selectedMonth:null,userEvents:[],isCreatingEvent:!1,editedEvent:null},reducers:{setDateFilter:function(e,t){e.dateFilter=t.payload},setSelectedMonth:function(e,t){e.selectedMonth=t.payload},setUserEvents:function(e,t){e.userEvents=t.payload},setIsCreatingEvent:function(e,t){e.isCreatingEvent=t.payload},setEditedEvent:function(e,t){e.editedEvent=t.payload}}}),u=s.actions,l=u.setDateFilter,d=u.setSelectedMonth,j=u.setUserEvents,b=u.setIsCreatingEvent,f=u.setEditedEvent,m=s.reducer,v=Object(o.a)({reducer:{calendar:m}}),O=n(15),h=n(6);function x(e){var t=(e+1).toFixed();return t.length>1?t:"0".concat(t)}function g(e){var t=e.getFullYear(),n=e.getMonth(),a=e.getDate(),r=e.getHours(),c=e.getMinutes(),i=x(n);return"".concat(t,"-").concat(i,"-").concat(a," ").concat(r,":").concat(c)}function p(e){return g(e).split(" ")[0]}function y(e){switch(e){case"Mon":return 1;case"Tue":return 2;case"Wed":return 3;case"Thu":return 4;case"Fri":return 5;case"Sat":return 6;case"Sun":return 7;default:return 1}}function _(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,a=e.getFullYear(),r=e.getDate(),c=e.getMonth(),i=x(c),o=e.toString(),s=o.split(" "),u=Object(h.a)(s,2),l=u[0],d=u[1],j=y(l),b=p(e),f=t.filter((function(e){return e.beginDate===b})),m={year:a,monthIndex:c,monthNumberString:i,monthName:d,dayNumber:r,dayOfWeekNumber:j,dayOfWeekName:l,dateString:b,dayEvents:f,isFromSelectedMonth:n};return m}function N(e,t,n,a){var r=1,c=n,i=e.year,o=!0,s=[];"previousMonth"===t&&(o=!1,r=e.daysAmount-n+1,c=e.daysAmount,11===e.monthIndex&&(i-=1)),"nextMonth"===t&&(o=!1,c=n,0===e.monthIndex&&(i+=1));for(var u=r;u<=c;u+=1){var l=_(new Date(i,+e.monthIndex,u),a,o);s.push(l)}return s}var F=function(){return Object(i.b)()},E=i.c,D=n(105),S=n.n(D);function M(){return JSON.stringify(new Date).slice(0,20)}function C(e){var t=M();return e.createdAtFull===t}n(164);var I=n(1),A=function(e){var t=e.day,n=F(),a=function(e){return _(new Date,[]).dateString===e.dateString}(t),r=t.dayEvents.sort((function(e,t){var n=1/0,a=1/0;if(e.beginTime){var r=e.beginTime.split(" ")[1].split(":"),c=Object(h.a)(r,2),i=c[0],o=c[1];n=60*parseInt(i,10)+parseInt(o,10)}if(t.beginTime){var s=t.beginTime.split(" ")[1].split(":"),u=Object(h.a)(s,2),l=u[0],d=u[1];a=60*parseInt(l,10)+parseInt(d,10)}return n-a})),c=function(e){n(b(!1)),n(f(e))};return Object(I.jsxs)("div",{className:S()("dayCell",{"dayCell--current":a},{"dayCell--notActual":!t.isFromSelectedMonth},{"dayCell--current--notActual":!t.isFromSelectedMonth&&a}),children:[Object(I.jsxs)("header",{className:"dayCell__header",children:[Object(I.jsx)("p",{className:"dayCell__date",children:t.dayNumber}),Object(I.jsx)("p",{className:"dayCell__dayOfWeek",children:t.dayOfWeekName})]}),Object(I.jsx)("main",{className:"dayCell__main",children:r.map((function(e){return Object(I.jsx)("div",{className:S()("dayCell__eventTitle",{"dayCell__eventTitle--new":C(e)},{"dayCell__eventTitle--notActual":!t.isFromSelectedMonth},{"dayCell__eventTitle--notActual--new":C(e)&&!t.isFromSelectedMonth}),onClick:function(){return c(e)},onKeyDown:function(){return c(e)},role:"button",tabIndex:0,children:e.title},e.id)}))})]})},w=n(27),T=n(235),k=n(237),J=n(242),Y=n(225),K=n(130),U=n(66),W=n(241);function B(e){localStorage.setItem("events",JSON.stringify(e))}n(166);var q=function(e){var t=e.editedEvent,n=Object(i.b)(),r=E((function(e){return e.calendar.userEvents})),c=Object(a.useState)(t.title),o=Object(h.a)(c,2),s=o[0],u=o[1],l=Object(a.useState)(t.description),d=Object(h.a)(l,2),b=d[0],m=d[1],v=Object(a.useState)(t.beginDate),x=Object(h.a)(v,2),y=x[0],_=x[1],N=Object(a.useState)(t.beginTime),F=Object(h.a)(N,2),D=F[0],S=F[1];Object(a.useEffect)((function(){u(t.title),m(t.description),_(t.beginDate),S(t.beginTime)}),[t]);var M=function(){n(f(null))},C=function(){var e=r.filter((function(e){return e.id!==t.id}));n(j(e)),B(e),M()};return Object(I.jsxs)("form",{className:"editingEventForm",onSubmit:function(e){e.preventDefault();var a=g(new Date),c=Object(w.a)(Object(w.a)({},t),{},{title:s,description:b,editedAt:a,beginDate:y,beginTime:D}),i=r.filter((function(e){return e.id!==t.id})),o=[].concat(Object(O.a)(i),[c]);n(j(o)),B(o),M()},children:[Object(I.jsxs)("div",{className:"editingEventForm__header",children:[Object(I.jsxs)("div",{className:"editingEventForm__buttons",children:[Object(I.jsx)("div",{className:"editingEventForm__bin",onClick:function(){return C()},onKeyUp:function(){return C()},tabIndex:0,role:"button"}),Object(I.jsx)("div",{className:"editingEventForm__close",onClick:function(){return M()},onKeyUp:function(){return M()},tabIndex:0,role:"button"})]}),Object(I.jsx)("h2",{className:"editingEventForm__formTitle",children:"Edit event"}),Object(I.jsxs)("p",{className:"editingEventForm__createdAt",children:["Created at:\xa0",t.createdAt]}),t.editedAt&&Object(I.jsxs)("p",{className:"editingEventForm__updatedAt",children:["Last updated at:\xa0",t.editedAt]})]}),Object(I.jsx)("div",{className:"editingEventForm__main",children:Object(I.jsxs)(Y.a,{direction:"column",spacing:2,children:[Object(I.jsx)(K.a,{dateAdapter:U.a,children:Object(I.jsxs)(Y.a,{spacing:1,children:[Object(I.jsx)(T.a,{id:"outlined-basic",label:"Title",variant:"outlined",required:!0,color:"secondary",value:s,onChange:function(e){return u(e.target.value)}}),Object(I.jsx)(T.a,{id:"outlined-basic",label:"Description",variant:"outlined",multiline:!0,color:"secondary",value:b,onChange:function(e){return m(e.target.value)}}),Object(I.jsx)(W.a,{label:"Date",inputFormat:"DD/MM/YYYY",value:y,onChange:function(e){if(e){var t=p(e.$d);_(t)}},renderInput:function(e){return Object(I.jsx)(T.a,Object(w.a)(Object(w.a)({},e),{},{required:!0,error:!1,color:"secondary"}))}}),Object(I.jsx)(k.a,{label:"Time",value:D,onChange:function(e){if(e){var t=g(e.$d);S(t)}},renderInput:function(e){return Object(I.jsx)(T.a,Object(w.a)(Object(w.a)({},e),{},{error:!1,color:"secondary"}))}})]})}),Object(I.jsx)(J.a,{variant:"contained",color:"secondary",type:"submit",children:"Save"})]})})]})},$=(n(172),function(){var e=E((function(e){return e.calendar.selectedMonth})),t=E((function(e){return e.calendar.userEvents})),n=E((function(e){return e.calendar.editedEvent})),a=function(e,t){if(!e)return[];var n=N(e,"selectedMonth",e.daysAmount,t),a=n[0].dayOfWeekNumber-1,r=N(e.prevMonth,"previousMonth",a,t),c=42-n.length-r.length,i=N(e.nextMonth,"nextMonth",c,t);return[].concat(Object(O.a)(r),Object(O.a)(n),Object(O.a)(i))}(e,t);return Object(I.jsxs)("ul",{className:"calendarGrid",children:[n&&Object(I.jsx)(q,{editedEvent:n}),a.map((function(e){return Object(I.jsx)("li",{className:"calendarGrid__dayCell",children:Object(I.jsx)(A,{day:e})},Math.random())}))]})}),R=n(46),G=n.n(R),H=n(185),L=n(129),P=n(128);function z(e){localStorage.setItem("dateFilter",JSON.stringify(e))}function Q(e){return{year:e.getFullYear(),monthIndex:e.getMonth()}}function V(e,t){return Q(new Date(e,t))}function X(e){var t=e.getFullYear(),n=e.getMonth(),a=n+1,r=x(n),c=function(e){switch(e){case 0:return["Jan","January"];case 1:return["Feb","February"];case 2:return["Mar","March"];case 3:return["Apr","April"];case 4:return["May","May"];case 5:return["Jun","June"];case 6:return["Jul","July"];case 7:return["Aug","August"];case 8:return["Sep","September"];case 9:return["Oct","October"];case 10:return["Nov","November"];case 11:return["Dec","December"];default:return"uknown"}}(n),i=Object(h.a)(c,2),o=i[0],s=i[1],u=e.getDate();return{year:t,monthIndex:n,monthNumber:a,monthShortName:o,monthFullName:s,fullDate:"01/".concat(r,"/").concat(t),fullDateReverse:"".concat(t,"-").concat(r,"-01"),dateWithMonthName:"".concat(s," ").concat(t),daysAmount:u}}n(173);var Z=function(){var e=F(),t=E((function(e){return e.calendar.dateFilter})),n=E((function(e){return e.calendar.selectedMonth})),r=n?n.fullDateReverse:null,c=Object(a.useState)(G()(r)),i=Object(h.a)(c,2),o=i[0],s=i[1],u=Object(a.useState)(!1),j=Object(h.a)(u,2),b=j[0],f=j[1],m=G()("2020-01-01T00:00:00.000"),v=G()("2034-01-01T00:00:00.000");Object(a.useEffect)((function(){if(t){var n=function(e){var t=e.year,n=e.monthIndex,a=new Date(t,n+1,0),r=new Date(t,n,0),c=new Date(t,n+2,0),i=X(a),o=X(r),s=X(c);return Object(w.a)(Object(w.a)({},i),{},{prevMonth:o,nextMonth:s})}(t);s(G()(n.fullDateReverse)),e(d(n))}}),[t]);var O=function(){if(t){var n=t.monthIndex,a=V(t.year,n+1);e(l(a)),z(a)}},x=function(){if(t){var n=t.monthIndex,a=V(t.year,n-1);e(l(a)),z(a)}},g=function(t){if(t){var n=V(t.year(),t.month());s(t),e(l(n)),z(n)}};return n&&Object(I.jsxs)("div",{className:"dateFilter",children:[Object(I.jsx)("div",{className:"dateFilter__arrow dateFilter__arrow--left",onClick:function(){return x()},onKeyUp:function(){return x()},tabIndex:0,role:"button"}),Object(I.jsx)("p",{className:"dateFilter__selectedDate",children:n.dateWithMonthName}),Object(I.jsx)("div",{className:"dateFilter__arrow dateFilter__arrow--right",onClick:function(){return O()},onKeyUp:function(){return O()},tabIndex:0,role:"button"}),Object(I.jsx)("div",{className:"dateFilter__calendarImage",onClick:function(){return f(!b)},onKeyUp:function(){return f(!b)},tabIndex:0,role:"button"}),Object(I.jsx)("div",{className:"dateFilter__datePicker",children:b&&Object(I.jsx)(K.a,{dateAdapter:U.a,children:Object(I.jsxs)(H.a,{container:!0,spacing:3,children:[Object(I.jsx)(H.a,{item:!0,children:Object(I.jsx)(L.a,{date:o,minDate:m,maxDate:v,onChange:function(e){return g(e)}})}),Object(I.jsx)(H.a,{item:!0,children:Object(I.jsx)(P.a,{date:o,minDate:m,maxDate:v,onChange:function(e){return g(e)}})})]})})})]})};function ee(){var e=localStorage.getItem("dateFilter");return e?JSON.parse(e):Q(new Date)}n(174);var te=function(){var e=Object(i.b)(),t=E((function(e){return e.calendar.userEvents})),n=Object(a.useState)(""),r=Object(h.a)(n,2),c=r[0],o=r[1],s=Object(a.useState)(""),u=Object(h.a)(s,2),l=u[0],d=u[1],f=Object(a.useState)(""),m=Object(h.a)(f,2),v=m[0],x=m[1],y=Object(a.useState)(""),_=Object(h.a)(y,2),N=_[0],F=_[1],D=function(){e(b(!1))};return Object(I.jsxs)("form",{className:"creatingEventForm",onSubmit:function(n){n.preventDefault();var a="id".concat(Math.random().toString(16).slice(2)),r=g(new Date),i=M(),o={id:a,title:c,description:l,createdAt:r,createdAtFull:i,beginDate:v,beginTime:N,editedAt:null},s=[].concat(Object(O.a)(t),[o]);e(j(s)),B(s),D()},children:[Object(I.jsxs)("div",{className:"creatingEventForm__header",children:[Object(I.jsx)("div",{className:"creatingEventForm__closeButton",onClick:function(){return D()},onKeyUp:function(){return D()},tabIndex:0,role:"button"}),Object(I.jsx)("h2",{className:"creatingEventForm__formTitle",children:"Add new event"})]}),Object(I.jsx)("div",{className:"creatingEventForm__main",children:Object(I.jsxs)(Y.a,{direction:"column",spacing:2,children:[Object(I.jsx)(K.a,{dateAdapter:U.a,children:Object(I.jsxs)(Y.a,{spacing:1,children:[Object(I.jsx)(T.a,{id:"outlined-basic",label:"Title",variant:"outlined",color:"secondary",required:!0,onChange:function(e){return o(e.target.value)}}),Object(I.jsx)(T.a,{id:"outlined-basic",label:"Description",variant:"outlined",color:"secondary",multiline:!0,onChange:function(e){return d(e.target.value)}}),Object(I.jsx)(W.a,{label:"Date",inputFormat:"DD/MM/YYYY",value:v,onChange:function(e){if(e){var t=p(e.$d);x(t)}},renderInput:function(e){return Object(I.jsx)(T.a,Object(w.a)(Object(w.a)({},e),{},{required:!0,error:!1,color:"secondary"}))}}),Object(I.jsx)(k.a,{label:"Time",value:N,onChange:function(e){if(e){var t=g(e.$d);F(t)}},renderInput:function(e){return Object(I.jsx)(T.a,Object(w.a)(Object(w.a)({},e),{},{error:!1,color:"secondary"}))}})]})}),Object(I.jsx)(J.a,{variant:"contained",color:"secondary",type:"submit",children:"Save"})]})})]})},ne=(n(175),function(){var e=F(),t=E((function(e){return e.calendar.isCreatingEvent})),n=function(){e(f(null)),e(b(!0))};return Object(I.jsxs)("div",{className:"creatingEventButton",children:[Object(I.jsx)("button",{className:"creatingEventButton__plusButton",onClick:function(){return n()},onKeyDown:function(){return n()},tabIndex:0,type:"button",children:"+"}),t&&Object(I.jsx)(te,{})]})}),ae=(n(176),function(){var e=F(),t=E((function(e){return e.calendar.dateFilter}));return Object(a.useEffect)((function(){var t=function(){var e,t=localStorage.getItem("events");return t&&(e=JSON.parse(t)),t||(e=[]),e}(),n=ee();e(j(t)),e(l(n))}),[]),t&&Object(I.jsxs)("div",{className:"app",children:[Object(I.jsxs)("div",{className:"app__container",children:[Object(I.jsxs)("header",{className:"app__header",children:[Object(I.jsx)(ne,{}),Object(I.jsx)(Z,{})]}),Object(I.jsx)("main",{className:"app__main",children:Object(I.jsx)($,{})})]}),Object(I.jsx)("a",{target:"_blank",href:"https://icons8.com/",className:"resource",rel:"noreferrer",children:"Icons resource link"})]})});c.a.render(Object(I.jsx)(i.a,{store:v,children:Object(I.jsx)(ae,{})}),document.getElementById("root"))}},[[177,1,2]]]);
//# sourceMappingURL=main.9e49c181.chunk.js.map