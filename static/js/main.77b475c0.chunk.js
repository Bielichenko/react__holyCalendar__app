(this["webpackJsonpreact-typescript-starter-pack"]=this["webpackJsonpreact-typescript-starter-pack"]||[]).push([[0],{156:function(e,t,n){},164:function(e,t,n){},166:function(e,t,n){},172:function(e,t,n){},173:function(e,t,n){},174:function(e,t,n){},175:function(e,t,n){},176:function(e,t,n){},177:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n(36),c=n.n(r),i=(n(156),n(50)),o=n(84),s=Object(o.b)({name:"calendar",initialState:{dateFilter:null,selectedMonth:null,userEvents:[],isCreatingEvent:!1,editedEvent:null},reducers:{setDateFilter:function(e,t){e.dateFilter=t.payload},setSelectedMonth:function(e,t){e.selectedMonth=t.payload},setUserEvents:function(e,t){e.userEvents=t.payload},setIsCreatingEvent:function(e,t){e.isCreatingEvent=t.payload},setEditedEvent:function(e,t){e.editedEvent=t.payload}}}),u=s.actions,l=u.setDateFilter,d=u.setSelectedMonth,j=u.setUserEvents,b=u.setIsCreatingEvent,m=u.setEditedEvent,f=s.reducer,v=Object(o.a)({reducer:{calendar:f}}),O=n(15),h=n(5);function x(e){switch(e){case"Mon":return 1;case"Tue":return 2;case"Wed":return 3;case"Thu":return 4;case"Fri":return 5;case"Sat":return 6;case"Sun":return 7;default:return 1}}function p(e){var t=(e+1).toFixed();return t.length>1?t:"0".concat(t)}function g(e){var t=e.toString(),n=e.getMonth(),a=t.split(" "),r=Object(h.a)(a,5),c=r[2],i=r[3],o=r[4],s=p(n);return"".concat(i,"-").concat(s,"-").concat(c," ").concat(o.slice(0,5))}function y(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,a=e.getFullYear(),r=e.getDate(),c=e.getMonth(),i=p(c),o=e.toString(),s=o.split(" "),u=Object(h.a)(s,2),l=u[0],d=u[1],j=x(l),b=g(e).split(" ")[0],m=t.filter((function(e){return e.beginDate===b})),f={year:a,monthIndex:c,monthNumberString:i,monthName:d,dayNumber:r,dayOfWeekNumber:j,dayOfWeekName:l,dateString:b,dayEvents:m,isFromSelectedMonth:n};return f}function _(e,t,n,a){var r=1,c=n,i=e.year,o=!0,s=[];"previousMonth"===t&&(o=!1,r=e.daysAmount-n+1,c=e.daysAmount,11===e.monthIndex&&(i-=1)),"nextMonth"===t&&(o=!1,c=n,0===e.monthIndex&&(i+=1));for(var u=r;u<=c;u+=1){var l=y(new Date(i,+e.monthIndex,u),a,o);s.push(l)}return s}var N=function(){return Object(i.b)()},E=i.c,F=n(105),D=n.n(F);n(164);var S=n(1),M=function(e){var t=e.day,n=N(),a=function(e){return y(new Date,[]).dateString===e.dateString}(t),r=t.dayEvents.sort((function(e,t){var n=1/0,a=1/0;if(e.beginTime){var r=e.beginTime.split(" ")[1].split(":"),c=Object(h.a)(r,2),i=c[0],o=c[1];n=60*parseInt(i,10)+parseInt(o,10)}if(t.beginTime){var s=t.beginTime.split(" ")[1].split(":"),u=Object(h.a)(s,2),l=u[0],d=u[1];a=60*parseInt(l,10)+parseInt(d,10)}return n-a})),c=function(e){n(b(!1)),n(m(e))};return Object(S.jsxs)("div",{className:D()("dayCell",{"dayCell--current":a},{"dayCell--notActual":!t.isFromSelectedMonth},{"dayCell--current--notActual":!t.isFromSelectedMonth&&a}),children:[Object(S.jsxs)("header",{className:"dayCell__header",children:[Object(S.jsx)("p",{className:"dayCell__date",children:t.dayNumber}),Object(S.jsx)("p",{className:"dayCell__dayOfWeek",children:t.dayOfWeekName})]}),Object(S.jsx)("main",{className:"dayCell__main",children:r.map((function(e){return Object(S.jsx)("div",{className:D()("dayCell__eventTitle",{"dayCell__eventTitle--notActual":!t.isFromSelectedMonth}),onClick:function(){return c(e)},onKeyDown:function(){return c(e)},role:"button",tabIndex:0,children:e.title},e.id)}))})]})},C=n(27),I=n(235),A=n(237),k=n(242),w=n(225),T=n(130),J=n(66),Y=n(241);function K(e){localStorage.setItem("events",JSON.stringify(e))}n(166);var U=function(e){var t=e.editedEvent,n=Object(i.b)(),r=E((function(e){return e.calendar.userEvents})),c=Object(a.useState)(t.title),o=Object(h.a)(c,2),s=o[0],u=o[1],l=Object(a.useState)(t.description),d=Object(h.a)(l,2),b=d[0],f=d[1],v=Object(a.useState)(t.beginDate),x=Object(h.a)(v,2),p=x[0],y=x[1],_=Object(a.useState)(t.beginTime),N=Object(h.a)(_,2),F=N[0],D=N[1];Object(a.useEffect)((function(){u(t.title),f(t.description),y(t.beginDate),D(t.beginTime)}),[t]);var M=function(){n(m(null))},U=function(){var e=r.filter((function(e){return e.id!==t.id}));n(j(e)),M()};return Object(S.jsxs)("form",{className:"editingEventForm",onSubmit:function(e){e.preventDefault();var a=g(new Date),c=Object(C.a)(Object(C.a)({},t),{},{title:s,description:b,editedAt:a,beginDate:p,beginTime:F}),i=r.filter((function(e){return e.id!==t.id})),o=[].concat(Object(O.a)(i),[c]);n(j(o)),K(o),M()},children:[Object(S.jsxs)("div",{className:"editingEventForm__header",children:[Object(S.jsxs)("div",{className:"editingEventForm__buttons",children:[Object(S.jsx)("div",{className:"editingEventForm__bin",onClick:function(){return U()},onKeyUp:function(){return U()},tabIndex:0,role:"button"}),Object(S.jsx)("div",{className:"editingEventForm__close",onClick:function(){return M()},onKeyUp:function(){return M()},tabIndex:0,role:"button"})]}),Object(S.jsx)("h2",{className:"editingEventForm__formTitle",children:"Edit event"}),Object(S.jsxs)("p",{className:"editingEventForm__createdAt",children:["Created at:\xa0",t.createdAt]}),t.editedAt&&Object(S.jsxs)("p",{className:"editingEventForm__updatedAt",children:["Last updated at:\xa0",t.editedAt]})]}),Object(S.jsx)("div",{className:"editingEventForm__main",children:Object(S.jsxs)(w.a,{direction:"column",spacing:2,children:[Object(S.jsx)(T.a,{dateAdapter:J.a,children:Object(S.jsxs)(w.a,{spacing:1,children:[Object(S.jsx)(I.a,{id:"outlined-basic",label:"Title",variant:"outlined",required:!0,color:"secondary",value:s,onChange:function(e){return u(e.target.value)}}),Object(S.jsx)(I.a,{id:"outlined-basic",label:"Description",variant:"outlined",multiline:!0,color:"secondary",value:b,onChange:function(e){return f(e.target.value)}}),Object(S.jsx)(Y.a,{label:"Date",inputFormat:"DD/MM/YYYY",value:p,onChange:function(e){var t=g(e.$d).split(" ")[0];y(t)},renderInput:function(e){return Object(S.jsx)(I.a,Object(C.a)(Object(C.a)({},e),{},{required:!0,error:!1,color:"secondary"}))}}),Object(S.jsx)(A.a,{label:"Time",value:F,onChange:function(e){var t=g(e.$d);D(t)},renderInput:function(e){return Object(S.jsx)(I.a,Object(C.a)(Object(C.a)({},e),{},{error:!1,color:"secondary"}))}})]})}),Object(S.jsx)(k.a,{variant:"contained",color:"secondary",type:"submit",children:"Save"})]})})]})},W=(n(172),function(){var e=E((function(e){return e.calendar.selectedMonth})),t=E((function(e){return e.calendar.userEvents})),n=E((function(e){return e.calendar.editedEvent})),a=function(e,t){if(!e)return[];var n=_(e,"selectedMonth",e.daysAmount,t),a=n[0].dayOfWeekNumber-1,r=_(e.prevMonth,"previousMonth",a,t),c=42-n.length-r.length,i=_(e.nextMonth,"nextMonth",c,t);return[].concat(Object(O.a)(r),Object(O.a)(n),Object(O.a)(i))}(e,t);return Object(S.jsxs)("ul",{className:"calendarGrid",children:[n&&Object(S.jsx)(U,{editedEvent:n}),a.map((function(e){return Object(S.jsx)("li",{className:"calendarGrid__dayCell",children:Object(S.jsx)(M,{day:e})},Math.random())}))]})}),B=n(46),q=n.n(B),$=n(185),R=n(129),G=n(128);function L(e){localStorage.setItem("dateFilter",JSON.stringify(e))}function P(e){return{year:e.getFullYear(),monthIndex:e.getMonth()}}function z(e,t){return P(new Date(e,t))}function H(e){var t=e.getFullYear(),n=e.getMonth(),a=n+1,r=p(n),c=function(e){switch(e){case 0:return["Jan","January"];case 1:return["Feb","February"];case 2:return["Mar","March"];case 3:return["Apr","April"];case 4:return["May","May"];case 5:return["Jun","June"];case 6:return["Jul","July"];case 7:return["Aug","August"];case 8:return["Sep","September"];case 9:return["Oct","October"];case 10:return["Nov","November"];case 11:return["Dec","December"];default:return"uknown"}}(n),i=Object(h.a)(c,2),o=i[0],s=i[1],u=e.getDate();return{year:t,monthIndex:n,monthNumber:a,monthShortName:o,monthFullName:s,fullDate:"01/".concat(r,"/").concat(t),fullDateReverse:"".concat(t,"-").concat(r,"-01"),dateWithMonthName:"".concat(s," ").concat(t),daysAmount:u}}n(173);var Q=function(){var e=N(),t=E((function(e){return e.calendar.dateFilter})),n=E((function(e){return e.calendar.selectedMonth})),r=n?n.fullDateReverse:null,c=Object(a.useState)(q()(r)),i=Object(h.a)(c,2),o=i[0],s=i[1],u=Object(a.useState)(!1),j=Object(h.a)(u,2),b=j[0],m=j[1],f=q()("2020-01-01T00:00:00.000"),v=q()("2034-01-01T00:00:00.000");Object(a.useEffect)((function(){if(t){var n=function(e){var t=e.year,n=e.monthIndex,a=new Date(t,n+1,0),r=new Date(t,n,0),c=new Date(t,n+2,0),i=H(a),o=H(r),s=H(c);return Object(C.a)(Object(C.a)({},i),{},{prevMonth:o,nextMonth:s})}(t);s(q()(n.fullDateReverse)),e(d(n))}}),[t]);var O=function(){if(t){var n=t.monthIndex,a=z(t.year,n+1);e(l(a)),L(a)}},x=function(){if(t){var n=t.monthIndex,a=z(t.year,n-1);e(l(a)),L(a)}},p=function(t){if(t){var n=z(t.year(),t.month());s(t),e(l(n)),L(n)}};return n&&Object(S.jsxs)("div",{className:"dateFilter",children:[Object(S.jsx)("div",{className:"dateFilter__arrow dateFilter__arrow--left",onClick:function(){return x()},onKeyUp:function(){return x()},tabIndex:0,role:"button"}),Object(S.jsx)("p",{className:"dateFilter__selectedDate",children:n.dateWithMonthName}),Object(S.jsx)("div",{className:"dateFilter__arrow dateFilter__arrow--right",onClick:function(){return O()},onKeyUp:function(){return O()},tabIndex:0,role:"button"}),Object(S.jsx)("div",{className:"dateFilter__calendarImage",onClick:function(){return m(!b)},onKeyUp:function(){return m(!b)},tabIndex:0,role:"button"}),Object(S.jsx)("div",{className:"dateFilter__datePicker",children:b&&Object(S.jsx)(T.a,{dateAdapter:J.a,children:Object(S.jsxs)($.a,{container:!0,spacing:3,children:[Object(S.jsx)($.a,{item:!0,xs:12,md:6,children:Object(S.jsx)(R.a,{date:o,minDate:f,maxDate:v,onChange:function(e){return p(e)}})}),Object(S.jsx)($.a,{item:!0,xs:12,md:6,children:Object(S.jsx)(G.a,{date:o,minDate:f,maxDate:v,onChange:function(e){return p(e)}})})]})})})]})};function V(){var e=localStorage.getItem("dateFilter");return e?JSON.parse(e):P(new Date)}n(174);var X=function(){var e=Object(i.b)(),t=E((function(e){return e.calendar.userEvents})),n=Object(a.useState)(""),r=Object(h.a)(n,2),c=r[0],o=r[1],s=Object(a.useState)(""),u=Object(h.a)(s,2),l=u[0],d=u[1],m=Object(a.useState)(""),f=Object(h.a)(m,2),v=f[0],x=f[1],p=Object(a.useState)(""),y=Object(h.a)(p,2),_=y[0],N=y[1],F=function(){e(b(!1))};return Object(S.jsxs)("form",{className:"creatingEventForm",onSubmit:function(n){n.preventDefault();var a="id".concat(Math.random().toString(16).slice(2)),r=g(new Date),i={id:a,title:c,description:l,createdAt:r,beginDate:v,beginTime:_,editedAt:null},o=[].concat(Object(O.a)(t),[i]);e(j(o)),K(o),F()},children:[Object(S.jsxs)("div",{className:"creatingEventForm__header",children:[Object(S.jsx)("div",{className:"creatingEventForm__closeButton",onClick:function(){return F()},onKeyUp:function(){return F()},tabIndex:0,role:"button"}),Object(S.jsx)("h2",{className:"creatingEventForm__formTitle",children:"Add new event"})]}),Object(S.jsx)("div",{className:"creatingEventForm__main",children:Object(S.jsxs)(w.a,{direction:"column",spacing:2,children:[Object(S.jsx)(T.a,{dateAdapter:J.a,children:Object(S.jsxs)(w.a,{spacing:1,children:[Object(S.jsx)(I.a,{id:"outlined-basic",label:"Title",variant:"outlined",color:"secondary",required:!0,onChange:function(e){return o(e.target.value)}}),Object(S.jsx)(I.a,{id:"outlined-basic",label:"Description",variant:"outlined",color:"secondary",multiline:!0,onChange:function(e){return d(e.target.value)}}),Object(S.jsx)(Y.a,{label:"Date",inputFormat:"DD/MM/YYYY",value:v,onChange:function(e){if(e){var t=g(e.$d).split(" ")[0];x(t)}},renderInput:function(e){return Object(S.jsx)(I.a,Object(C.a)(Object(C.a)({},e),{},{required:!0,error:!1,color:"secondary"}))}}),Object(S.jsx)(A.a,{label:"Time",value:_,onChange:function(e){if(e){var t=g(e.$d);N(t)}},renderInput:function(e){return Object(S.jsx)(I.a,Object(C.a)(Object(C.a)({},e),{},{error:!1,color:"secondary"}))}})]})}),Object(S.jsx)(k.a,{variant:"contained",color:"secondary",type:"submit",children:"Save"})]})})]})},Z=(n(175),function(){var e=N(),t=E((function(e){return e.calendar.isCreatingEvent})),n=function(){e(m(null)),e(b(!0))};return Object(S.jsxs)("div",{className:"creatingEventButton",children:[Object(S.jsx)("button",{className:"creatingEventButton__plusButton",onClick:function(){return n()},onKeyDown:function(){return n()},tabIndex:0,type:"button",children:"+"}),t&&Object(S.jsx)(X,{})]})}),ee=(n(176),function(){var e=N(),t=E((function(e){return e.calendar.dateFilter}));return Object(a.useEffect)((function(){var t=function(){var e,t=localStorage.getItem("events");return t&&(e=JSON.parse(t)),t||(e=[]),e}(),n=V();e(j(t)),e(l(n))}),[]),t&&Object(S.jsxs)("div",{className:"app",children:[Object(S.jsxs)("header",{className:"app__header",children:[Object(S.jsx)(Z,{}),Object(S.jsx)(Q,{})]}),Object(S.jsx)("main",{className:"app__main",children:Object(S.jsx)(W,{})}),Object(S.jsx)("a",{target:"_blank",href:"https://icons8.com/",className:"resource",rel:"noreferrer",children:"Icons resource link"})]})});c.a.render(Object(S.jsx)(i.a,{store:v,children:Object(S.jsx)(ee,{})}),document.getElementById("root"))}},[[177,1,2]]]);
//# sourceMappingURL=main.77b475c0.chunk.js.map